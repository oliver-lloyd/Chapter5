job.type: train
dataset.name: selfloops

import: [simple]
model: simple
simple:
  entity_embedder.dropout: 0.067991
  relation_embedder.dropout: 0.125349

lookup_embedder:
  dim: 256
  psi: 0.125
  neighbour_edgelist_file: tanimoto_edgelist_nearest20.pt
  regularize: ''
  initialize: xavier_normal_
  initialize_args:
    normal_:
      mean: 0.0
      std: 0.006737
    xavier_normal_.gain: 1.0

train:
  type: 1vsAll
  optimizer: Adam
  optimizer_args.lr: 0.010761
  loss: kl
  batch_size: 256
  lr_scheduler: ReduceLROnPlateau
  lr_scheduler_args:
    mode: max
    factor: 0.5
    threshold: 0.0001
    patience: 6
  auto_correct: true
  max_epochs: 480
  subbatch_auto_tune: true

valid:
  early_stopping: {min_threshold.epochs: 480, min_threshold.metric_value: 0.01, patience: 10}
  every: 5
  filter_with_test: true
  metric: mean_reciprocal_rank_filtered_with_test

eval: {batch_size: 256, metrics_per.relation_type: true}
entity_ranking.tie_handling.warn_only: true